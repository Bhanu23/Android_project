package com.mohdeva.learn.tasker;import java.util.ArrayList;import java.util.Locale;import android.content.ActivityNotFoundException;import android.content.Intent;import android.os.Bundle;import android.speech.RecognizerIntent;import android.support.v7.app.AppCompatActivity;import android.view.View;import android.widget.EditText;import android.widget.ImageButton;import android.widget.TextView;public class MainActivity extends AppCompatActivity {    private ImageButton btnSpeak;    private EditText recSpeak;    private final int REQ_CODE_SPEECH_INPUT = 100;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        recSpeak = (EditText) findViewById(R.id.TEXT);        btnSpeak = (ImageButton) findViewById(R.id.Speech);        btnSpeak.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                promptSpeechInput();            }        });    }    // Showing google speech input dialog    private void promptSpeechInput() {        Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);        intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);        intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());        intent.putExtra(RecognizerIntent.EXTRA_PROMPT,                "Hi speak something");        try {            startActivityForResult(intent, REQ_CODE_SPEECH_INPUT);        } catch (ActivityNotFoundException a) {        }    }    // Receiving speech input    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        switch (requestCode) {            case REQ_CODE_SPEECH_INPUT: {                if (resultCode == RESULT_OK && null != data) {                    ArrayList<String> result = data                            .getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);                    recSpeak.setText(result.get(0));                }                break;            }        }    }}